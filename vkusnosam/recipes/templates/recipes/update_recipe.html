{% extends 'base.html' %}

{% block content %}
<section aria-label="Изменение рецепта">
    <h2>Изменение рецепта: </h2>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token  %}
        <div class="form-error">{{ form.non_field_errors }}</div>
        {% for f in form %}
            <p><label class="form-label" for="{{ f.id_for_label }}">{{f.label}}</label> {{ f }}</p>
            <div class="form-error">{{ f.errors }}</div>
        {% endfor %}
        <h3>Пошаговое описание рецепта: </h3>
        <p class="step_preparing">1 шаг приготовления: </p>
        <div id="formsContainer">
                <div
                    class="form-error">{{ form.non_field_errors }}
                </div>
                <div class="form-group">
                {% for f in recipe_step_preparing_form %}
                    <p><label class="form-label" for="{{ f.id_for_label }}">{{ f.label }}</label>{{ f }}</p>
                    <div class="form-error">{{ f.errors }}</div>
                {% endfor %}
                </div>
               <p><button type="button" id="addStep">Добавить следующий шаг</button></p>
            </div>
        <p><button type="submit">Сохранить</button></p>
    </form>
</section>
<br>
<p><a href="{% url 'delete_recipe' slug=recipe.slug %}">Удалить рецепт!</a></p>
<br>
<p><a href="{% url 'users:profile' %}">Обратно в профиль</a></p>
<br>
<p><a href="{% url 'home' %}">На главную</a></p>
{% endblock %}