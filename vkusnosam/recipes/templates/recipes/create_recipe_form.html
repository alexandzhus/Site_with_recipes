{% extends 'base.html' %}

{% block content %}
<div class="recipe-add">
    <section aria-label="Создание нового рецепта">
    <h2>Создание нового рецепта:</h2>
    <form method="post" enctype="multipart/form-data" id="add-recipe-form" >
            {% csrf_token %}
            <div class="form-error">{{ form.non_field_errors }}</div>
            {% for f in form %}
                <p><label class="form-label" for="{{ f.id_for_label }}">{{ f.label }}</label>{{ f }}</p>
                <div class="form-error">{{ f.errors }}</div>
            {% endfor %}
        <hr>
        <h3>Пошаговое описание рецепта: </h3>
        <p class="step_preparing">1 шаг приготовления: </p>
        <div id="formsContainer">
                <div
                    class="form-error">{{ form.non_field_errors }}
                </div>

                <div class="form-group">
                {% for f in recipe_step_preparing_form %}
                    <p><label class="form-label" for="{{ f.id_for_label }}">{{ f.label }}</label>{{ f }}</p>
                    <div class="form-error">{{ f.errors }}</div>
                {% endfor %}
                </div>
                <p><button type="button" id="addStep">Добавить следующий шаг?</button></p>
            </div>
            <hr>
            <p><button type="submit" class="add-form-button-save">Сохранить</button></p>
    </form>
    </section>
    <hr>
    <nav class="create-recipe-nav">
        <p><a href="{% url 'home' %}">На главную</a></p>
    </nav>
</div>

{% endblock %}